<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Administraci贸n | Decap CMS</title>

    <!-- Forzamos modo manual -->
    <script>window.CMS_MANUAL_INIT = true;</script>
    <script src="https://unpkg.com/decap-cms@^3/dist/decap-cms.js"></script>
  </head>
  <body>
    <script>
      CMS.init({
        //  ESTA LNEA ES LA CLAVE PARA QUE NO PIDA /config.yml
        load_config_file: false,

        config: {
          locale: "es",
          site_url: "https://jolly-sand-06d352c0f.3.azurestaticapps.net",
          backend: {
            name: "github",
            repo: "White-eclipse1/Paginaweb",
            branch: "main",
            auth_endpoint: "/api/oauth"        // o "/api/oauth/authorize" si as铆 lo dejaste
          },
          media_folder: "img/uploads",
          public_folder: "/img/uploads",
          editorial_workflow: false,
          collections: [
            {
              name: "ofertas",
              label: "Ofertas de trabajo",
              format: "json",
              files: [{
                file: "data/ofertas.json",
                label: "Listado de ofertas",
                name: "ofertas_json",
                fields: [{
                  label: "Ofertas",
                  name: "items",
                  widget: "list",
                  fields: [
                    { label: "Puesto", name: "puesto", widget: "string" },
                    { label: "Descripci贸n", name: "descripcion", widget: "text" },
                    { label: "Ubicaci贸n", name: "ubicacion", widget: "string" },
                    { label: "Tipo", name: "tipo", widget: "select", options: ["Tiempo completo","Medio tiempo","Pr谩cticas"] },
                    { label: "Sueldo (opcional)", name: "sueldo", widget: "string", required: false },
                    { label: "Contacto/Email", name: "contacto", widget: "string" },
                    { label: "Publicaci贸n (YYYY-MM-DD)", name: "fecha", widget: "datetime", format: "YYYY-MM-DD", time_format: false },
                    { label: "Imagen (opcional)", name: "imagen", widget: "image", required: false }
                  ]
                }]
              }]
            },
            {
              name: "noticias",
              label: "Noticias",
              format: "json",
              files: [{
                file: "data/noticias.json",
                label: "Listado de noticias",
                name: "noticias_json",
                fields: [{
                  label: "Noticias",
                  name: "items",
                  widget: "list",
                  fields: [
                    { label: "T铆tulo", name: "titulo", widget: "string" },
                    { label: "Extracto", name: "extracto", widget: "text" },
                    { label: "Cuerpo (HTML o texto)", name: "cuerpo", widget: "text" },
                    { label: "Fecha (YYYY-MM-DD)", name: "fecha", widget: "datetime", format: "YYYY-MM-DD", time_format: false },
                    { label: "Imagen (opcional)", name: "imagen", widget: "image", required: false },
                    { label: "Link externo (opcional)", name: "link", widget: "string", required: false }
                  ]
                }]
              }]
            }
          ]
        }
      });
    </script>
  </body>
</html>
